#!/usr/bin/env ruby

cmd = "gvim --servername GVIM"
files, args = [], []
ARGV.each do |a|
  if a =~ /^--?/
    args << a
  else
    files << a
  end
end
cmd += " " + args.join(" ") if args.size > 0
cmd += " --remote-tab " + files.join(" ") if files.size > 0
system "#{cmd} 2> /dev/null"
